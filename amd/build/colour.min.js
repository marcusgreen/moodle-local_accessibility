define("local_accessibility/colour",["exports","./common","jquery"],(function(_exports,_common,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=function(optionname,saveoptionname,stylename){let bodyclassname=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,_jquery.default)((()=>{const revokedefault=()=>{bodyclassname&&(0,_jquery.default)("body").removeClass(bodyclassname)},defaultattrname="data-default-".concat(stylename),$container=(0,_jquery.default)("#".concat(optionname,"-container"));if(!$container.length)return;const $picker=$container.find("#".concat(optionname,"-picker"));if(!$picker.length)return;$picker.on("change input propertychange",(async()=>{const colour=$picker.val();if(colour&&/#[0-9a-f]{6}/gi.exec(colour)){revokedefault();for(const element of[...(0,_jquery.default)("*")]){const $element=(0,_jquery.default)(element);$element.attr(defaultattrname)||$element.attr(defaultattrname,$element.css(stylename)),$element.css(stylename,colour)}await(0,_common.saveOptionConfig)(saveoptionname,colour)}}));const $img=$container.find("img.colourdialogue");$img.length&&$img.on("click",(()=>{$picker.trigger("change")}));const $resetbtn=$container.find(".".concat(optionname,"-resetbtn"));$resetbtn.length&&$resetbtn.on("click",(async()=>{$picker.val(""),revokedefault();for(const element of[...(0,_jquery.default)("*")]){var _$element$attr;const $element=(0,_jquery.default)(element),defaultcolour=null!==(_$element$attr=$element.attr(defaultattrname))&&void 0!==_$element$attr?_$element$attr:"";$element.css(stylename,defaultcolour),$element.removeAttr(defaultattrname)}await(0,_common.saveOptionConfig)(saveoptionname,null)}))}))}}));

//# sourceMappingURL=colour.min.js.map